## ìš°ì•„í•œ í…Œí¬ëŸ¬ë‹ React&Typescript 3íšŒì°¨

2020ë…„ 09ì›” 10ì¼ ëª©ìš”ì¼

<details><summary>ğŸ“– Table of Contents</summary>

- [JavaScript í•¨ìˆ˜](#javascript-í•¨ìˆ˜)

  - [JavaScript í•¨ìˆ˜ì˜ ì •ì˜](#javascript-í•¨ìˆ˜ì˜-ì •ì˜)

- [Reference Link](#Reference-Link)

</details>

## ì˜¤ëŠ˜ì˜ ì£¼ì œ

- React ë¥¼ ì»´í¬ë„ŒíŠ¸ ë””ìì¸ì„ ë°°ì›Œë³´ì

## React

- ì„±ê²©ì´ ë‹¤ë¥¸ ì½”ë“œë¥¼ ìª¼ê°œëŠ” ë°©ë²•

```javascript
const SessionItem = {( title )} => <li>{title</li>

const App = (props) => {
  const { sessionList } = propt.store;

  return (
    <div>
      <header>
        <h1>Title</h1>
      </header>
      <ul>
        {sessionList.map((session) => (
          <SessionItem title={session.title} />
        ))}
      </ul>
    </div>
  )
}
```

- class í˜• ì»´í¬ë„ŒíŠ¸ê°€ í•¨ìˆ˜í˜•ì—ê²Œ ë’¤ì³ì§€ê²Œ ëœ ê³„ê¸°

í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„  ìƒíƒœë¥¼ ê´€ë¦¬í•  ìˆ˜ ì—†ì—ˆë‹¤. í•¨ìˆ˜ê°€ ìƒ

- useEffect ì˜ cleanup í•¨ìˆ˜

useEffect ì˜ ì½œë°±í•¨ìˆ˜ê°€ return í•˜ëŠ” í•¨ìˆ˜ë¥¼ clean up í•¨ìˆ˜ë¼ê³  í•œë‹¤. ë¬´ì–¸ê°€ êµ¬ë…ì„ í•˜ê³  ìˆë‹¤ë˜ì§€ ë¬¼ë¦¬ì ìœ¼ë¡œ ìƒì„±ëœ ì˜ì¡´ì„±ì„ í•´ë‹¹ í•¨ìˆ˜ì—ì„œ ì‚­ì œí•˜ë©´ ëœë‹¤.  
ë‹¨, JS ë‚´ë¶€ì˜ ë…¼ë¦¬ì  ë©”ëª¨ë¦¬ë¥¼ ì‚­ì œí•  ìˆ˜ëŠ” ì—†ë‹¤. (í´ë¡œì € ë“±) ì´ëŠ” JS ê°€ Garbage Collection ìœ¼ë¡œ ìë™ìœ¼ë¡œ ì‚­ì œí•œë‹¤.

- ì§€ì—°í˜¸ì¶œ

Promise

Generator

: JS ì˜ Co ë£¨í‹´ êµ¬í˜„ì²´ (CS)
(ê³„ì† ê°’ì„ ìƒì„±í•´ë‚¸ë‹¤ëŠ” ì˜ë¯¸)

í•¨ìˆ˜ì¸ë° return ì„ ì—¬ëŸ¬ë²ˆ í•˜ë©´ ì–´ë–¨ê¹Œ?

```javascript
function* makeNumber() {
  let num = 1;

  while (true) {
    yield num++; // return {value : ìˆ«ì, done: false} ëœë‹¤. (value: yeild í•œ ê°’ / done:  í•´ë‹¹ í•¨ìˆ˜ê°€ ì¢…ë£Œë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ flag)
    // í•¨ìˆ˜ë¥¼ ì¼ì‹œì •ì§€ ì‹œí‚¤ê³  ê°’ì„ ë‚´ë³´ë‚¸ë‹¤.
    // ë‹¤ì‹œ ëŒì•„ì˜¬ ê²ƒì„ ì•”ì‹œ
  }
}

const i = makeNumber();

console.log(i.next()); // ì‹¤í–‰ í›„ í•¨ìˆ˜ì˜ ìƒíƒœë¥¼ ë³´ì¡´í•œì±„ë¡œ ë©ˆì¶¤
console.log(i.next());
console.log(i.next());
console.log(i.next());
// ... Generator ê°€ ì¢…ë£Œë˜ë©´ value: undefined ë¡œ return ë¨
```

ì•„ë˜ì²˜ëŸ¼ ë§¤ê°œë³€ìˆ˜ë¥¼ ë„£ì–´ `next()` ë¥¼ í˜¸ì¶œí•  ê²½ìš° `yield` ë¬¸ì— ê°’ì„ ë¶€ì—¬í•´ì¤€ë‹¤.

```javascript
function* makeNumber() {
  let num = 1;

  while (true) {
    const x = yield num++;
    console.log(x);
  }
}

const i = makeNumber();

i.next();
i.next("x"); // ë§¤ê°œë³€ìˆ˜ë¡œ  generator ì˜ yield ì‹ì— ê°’ì„ ë¶€ì—¬í•¨
```

- Generator ì‚¬ìš©ì˜ˆ

```javascript
const delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms)); // ë”œë ˆì´ ì‹œí‚¤ëŠ” promise

// callback hell
delay(3000).then(() => {
  console.log("3ì´ˆë’¤");
});

// ë¹„ë™ê¸° ì½”ë“œë¥¼ ë™ê¸°ì ìœ¼ë¡œ ì‘ì„±
function* main() {
  console.log("ì‹œì‘");
  yield delay(3000);
  console.log("3ì´ˆë’¤");
}

const it = main();

// { value: '', done: false }
const { value } = it.next(); // Promise ê°ì²´ return ë¨

value.then(() => {
  it.next();
});
```

async í•¨ìˆ˜ë¡œ ì¨ë³´ê¸°

```javascript
async function main2() {
  console.log("ì‹œì‘");
  await delay(3000);
  console.log("3ì´ˆë’¤");
}
```

`async` ëŠ” `Promise` ì—ë§Œ `await` ë¥¼ ë¶™ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

í•˜ì§€ë§Œ `Generator` ëŠ” `Promise` ì™¸ì—ë„ ë‹¤ì–‘í•œ ê°’ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. ë¹„ë™ê¸° ì²˜ë¦¬ ì™¸ì—ë„ ë‹¤ì–‘í•œ ì²˜ë¦¬ë¥¼ í’€ì–´ë‚¼ ìˆ˜ ìˆëŠ” íŒ¨í„´ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

ê·¸ë˜ì„œ **Redux Saga** ëŠ” `Generator` ë¥¼ ì‚¬ìš©í•œë‹¤.

> Redux Saga : ë¹„ë™ê¸° ì½”ë“œë¥¼ ë™ê¸°ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë§Œë“  ë¯¸ë“¤ì›¨ì–´ => Generator ë¡œ ë„ë°°ë˜ì–´ ìˆë‹¤.

> async / await ë„ v8 ì½”ë“œë¥¼ ëœ¯ì–´ë³´ë©´ Generator ë¥¼ ì‚¬ìš©í•´ êµ¬í˜„ë˜ì–´ ìˆë‹¤.

```javascript
if (value instanceof Promise) {
  value.then(() => {
    it.next();
  });
}
```

## Reference Link

end to end / unit / fe test

[ê°•ì‚¬ë‹˜ ì½”ë“œ](https://gist.github.com/ibare/c7020756170aa7ed3d1cc84f86972409)
